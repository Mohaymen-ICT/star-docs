<!doctype html>
<html lang="fa" dir="rtl" class="docs-wrapper plugin-docs plugin-id-onboarding docs-version-current docs-doc-page docs-doc-id-checklists/debugging/backend/elk" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">دیباگ با استفاده از استک ELK (Elastic Logstash Kibana) | مستندات ستاره</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mohaymen-ict.github.io/star-docs/img/mohaymen-logo.png"><meta data-rh="true" name="twitter:image" content="https://mohaymen-ict.github.io/star-docs/img/mohaymen-logo.png"><meta data-rh="true" property="og:url" content="https://mohaymen-ict.github.io/star-docs/onboarding/checklists/debugging/backend/elk"><meta data-rh="true" property="og:locale" content="fa"><meta data-rh="true" name="docusaurus_locale" content="fa"><meta data-rh="true" name="docsearch:language" content="fa"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-onboarding-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-onboarding-current"><meta data-rh="true" property="og:title" content="دیباگ با استفاده از استک ELK (Elastic Logstash Kibana) | مستندات ستاره"><meta data-rh="true" name="description" content="برای باگ‌هایی که به کندی یک عملکرد در سیستم مرتبط است، یکی از راه‌های دیباگ و تشخیص مشکل، استفاده از لاگ‌های"><meta data-rh="true" property="og:description" content="برای باگ‌هایی که به کندی یک عملکرد در سیستم مرتبط است، یکی از راه‌های دیباگ و تشخیص مشکل، استفاده از لاگ‌های"><link data-rh="true" rel="icon" href="/star-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mohaymen-ict.github.io/star-docs/onboarding/checklists/debugging/backend/elk"><link data-rh="true" rel="alternate" href="https://mohaymen-ict.github.io/star-docs/onboarding/checklists/debugging/backend/elk" hreflang="fa"><link data-rh="true" rel="alternate" href="https://mohaymen-ict.github.io/star-docs/onboarding/checklists/debugging/backend/elk" hreflang="x-default"><link rel="stylesheet" href="/star-docs/assets/css/styles.50120499.css">
<script src="/star-docs/assets/js/runtime~main.8553c19b.js" defer="defer"></script>
<script src="/star-docs/assets/js/main.06957d79.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="پرش به مطلب اصلی"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">پرش به مطلب اصلی</a></div><nav aria-label="صفحه اصلی" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="باز و بست منو" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/star-docs/"><div class="navbar__logo"><img src="/star-docs/img/mohaymen-logo.png" alt="Mohaymen Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/star-docs/img/mohaymen-logo.png" alt="Mohaymen Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">مستندات ستاره</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Mohaymen-ICT/star-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="نوار کناری مستندات" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/star-docs/onboarding/checklists">چک لیست‌ها</a><button aria-label="بستن دسته بندی در نوار کناری &#x27;چک لیست‌ها&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/star-docs/onboarding/debugging">دیباگ</a><button aria-label="بستن دسته بندی در نوار کناری &#x27;دیباگ&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/star-docs/onboarding/backend">اشکالات سمت سرویس</a><button aria-label="بستن دسته بندی در نوار کناری &#x27;اشکالات سمت سرویس&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/star-docs/onboarding/dotnet-tools">ابزارهای مبتنی بر dotnet</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;ابزارهای مبتنی بر dotnet&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/star-docs/onboarding/checklists/debugging/backend/dot-trace">دیباگ مسائل پرفورمنسی و کندی با استفاده از DotTrace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/star-docs/onboarding/checklists/debugging/backend/elk">دیباگ با استفاده از استک ELK (Elastic Logstash Kibana)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/star-docs/onboarding/checklists/debugging/backend/simple-backend-bugs">باگ‌های ساده‌ی سمت سرور</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/star-docs/onboarding/documents-contribution">مستندات</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;مستندات&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/star-docs/onboarding/elasticsearch">الستیک‌سرچ</a><button aria-label="باز کردن دسته بندی در نوار کناری &#x27;الستیک‌سرچ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/star-docs/onboarding/Star Standard Code Styles">استایل کد در تیم ستاره</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/star-docs/onboarding/hr-protocols/monthly-tasks">hr-protocols</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/star-docs/onboarding/intro">شروع به کار</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="صفحه اصلی" class="breadcrumbs__link" href="/star-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/star-docs/onboarding/checklists"><span itemprop="name">چک لیست‌ها</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/star-docs/onboarding/debugging"><span itemprop="name">دیباگ</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/star-docs/onboarding/backend"><span itemprop="name">اشکالات سمت سرویس</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">دیباگ با استفاده از استک ELK (Elastic Logstash Kibana)</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><h1>دیباگ با استفاده از استک ELK (Elastic Logstash Kibana)</h1>
<p>برای باگ‌هایی که به کندی یک عملکرد در سیستم مرتبط است، یکی از راه‌های دیباگ و تشخیص مشکل، استفاده از لاگ‌های
performance
سرویس‌های ستاره است.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="تشخیص-سرویسهای-مرتبط">تشخیص سرویس‌های مرتبط<a class="hash-link" aria-label="لینک مستقیم به تشخیص سرویس‌های مرتبط" title="لینک مستقیم به تشخیص سرویس‌های مرتبط" href="/star-docs/onboarding/checklists/debugging/backend/elk#تشخیص-سرویسهای-مرتبط">​</a></h2>
<p>با توجه به ماژولی که با آن کار داریم و کندی در آن مشاهده می‌شود، لاگ پرفورمنس مربوط به آن سرویس را از مشتری درخواست می‌کنیم.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="بارگذاری-لاگها">بارگذاری لاگ‌ها<a class="hash-link" aria-label="لینک مستقیم به بارگذاری لاگ‌ها" title="لینک مستقیم به بارگذاری لاگ‌ها" href="/star-docs/onboarding/checklists/debugging/backend/elk#بارگذاری-لاگها">​</a></h2>
<p>برای بارگذاری و به اشتراک‌گذاری نتایج بین افراد مختلف داخل واحد،
یک نسخه‌ی کامل از استک
ELK
در دسترس است.
برای بارگذاری یک فایل لاگ لازم است مراحل زیر انجام شود.</p>
<ul>
<li>به سرور
<code>192.168.30.83</code>
با نام کاربری و رمزعبوری که در اختیار دارید،
ریموت بزنید.</li>
<li>در آدرس زیر، پوشه‌های مختلف به ازای هر پروژه ایجاد شده است.
پوشه‌ی متناظر با پروژه‌ی باگ گزارش شده را باز کنید. (برای اینکار از فیلد component در ایشوی باگ جیرا استفا ده کنید.)</li>
</ul>
<p>در مثال زیر، پوشه‌ی
<code>IST</code>
مورد نظر است.</p>
<p><img decoding="async" loading="lazy" alt="Folders for every project in server" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAACNCAYAAADVT3bsAAAGoElEQVR4Xu2d3Y7cNBiG57pyTgvtIsQZVzAnHHMBCPEnEAwIgUAgENzDnBco/1BQD/cIabsz3W1pCxKo2t35sJ1k4jj2Z09lz7eZeR/Jyo6TzGwfe+wk7yadENg6E7cClAfSBYB0ASBdAEgXANIFgHQBJqvVinShtlzoQnVZ9cvF6pzOV4/pbPWvKv/ROT1Wm52pVRd10e+l9lOb1fsb9M7ABj1dAEgXgJX+9x/P0qPfD+jRrQN6qMtvB/Tg1+t1+eU6/fXzNVPu/3SNHt5+0d0dBGCla+F0+pUqX6ryBdHJ56p8psqnRHc/UeVjouVHqnxI9358xt0dBOCl39LS48Jp+QHd+wHSU2Gl6yElRTgt3qdTSE+Gl67G8BThtHiPTr9/2t3dy3w6ocl07lbrFTSZTJoypf4WhzSr2nWqVDNVM15Y6XrCTBFOi3fp5LsE6YczqqopTauKZrY1XW+LVq9n7QuzbkK9drLXj5AE6XHhdPxOkvTDWUWVst0u1+he7u29dQ/3fTHGDC9dHRamCKfjt+nk5lV3dwctsOnhpsfbkuc0Vb251xAa9xuwI7DS9TF4ivDV0et099urtDr7x32Ljp5oqwG6Ddbj9rpnDxpnN4hLjwin47fUN+IFdcj4HD24/ZL7FmvcIUW/9k6o9hi+jz1dn2nGhNOdN00vP//zZbP0Uw8f3dFJ6CilpmuQPRzT7+uzzIhwuvMGLb+50i19eCdKS+h8Zg01df36W9EcSu7N0Ys5tY8Ip6PXaPn1lW7pQR+bDyZJsnu0801wu3Yz5OzFcbo5tY8Ip6NXaWGkN0sQhZVuTu0jwunoFVrc0NKbJYjCS1en9vqkxxR1HK4nSl302K2HEt2ztejjG0+Z5fLm8+5bAA+sdFAGSBcA0gWAdAEgXQBWOoLpMrDSEUyXgZeOYLoIrHQE02XgpWcLpoeXdrtrWs069yJXg7koNmkDD72tHX40wUdg38sKKz1fMO3I6oUT9bpqkCS163Qj+aWHrl5edhKkx4XHg2m3h9qv65+nUyesNqumqhdPB9vqn4PJ0wjgpWcLph3pRmYrrF2nl3aS1OaowwaazXyhyHhgpecLpt0x3ZbbSdXDxTCUdqW7c8L4iEuPCE8Lpp2ebsb04ZBhp/9dA7jS1c9ze//xwUrPG0zbkuzA2V7XDCla6nr48EivWyUYbF92eOm5gmlXeqinm5d1EN1NqgHp1EymIxzbWem5gml7LK6L3et93wL/mD/cVrfR+IJqXjqC6SKw0hFMl4GXjmC6CKx0UAZIFwDSBYB0ASBdAFY6gukysNIRTJeBl45gugisdATTZeClFwym66uITX0gkeiH0rS+AjkMQsYFK71YMO3UJ4XS7p12I77vKEF6XPjmwXS/PimU9t4sNk546aWC6UG9XqaE0uP8kwsXVnq5YHoY1cVDabNieFf1CIlLjwh/omDaVx8NpS3su6pHCCu9XDDtq4+F0n129o+NigXToXoulObuqh4ZrPS8wXSC9Ggobc0LI+3lGl46gukisNIRTJeBl45gugisdFAGSBcA0gWAdAEgXQBWOoLpMrDSEUyXgZeOYLoIrHQE02XgpWcNpq0LWZ6A2dxR4QQd/SuOuwMrPW8w3UiPBszulcfdI0F6XHhaMN2IjgbM+y49azBtPwuAGzb2XHreYNpN+0MBM6RHhacH056/yPIGzHsuPW8w7ZFOvoB536VnDabbiTQWMO+59LzBdH8iDQfM+y4dwXQRWOkIpsvAS0cwXQRWOigDpAsA6QJAugCQLgArHcF0GVjpCKbLwEtHMF0EVjqC6TLw0rMG0+4dF9bFLk9QPbgwtk6bNq238H7O9mGl5w2mO+m9R3AHg2q3oVpS65tGaBs2+DnbJ0F6XHhaMF0LGYQWwaDalfgE9bbo4OdsH1561mC6CjyCu+6Rg6HAJ3HjeveZvr7P2T6s9LzBdD2WDjILgy+o7vZpiy3PX89J716Hf4/tEJceEZ4eTFfxR3D3gmqfxE3r22cM2HW62heIbw9Wet5guvnHRx7B3f/feD3CNql3J0+LwdyyRXjpWYPpTkjvEdzBoNoj0ZBaXw9Da6/Bz9k+rPS8wXRfVPcIbmeM7iwN9onX22O9u03oc7YPLx3BdBFY6Qimy8BLRzBdBFY6KAOkCwDpAkC6AJAuAKQLAOkCQLoAkC4ApAsA6QJAugCQLgCkCwDpAkC6AJAuAKQLAOkCQLoAkC4ApAsA6QJAugCQLgCkCwDpAkC6AJAuAKQL8D+WFXK8rzGFOwAAAABJRU5ErkJggg==" width="93" height="141" class="img_ev3q">
<img decoding="async" loading="lazy" alt="Bug in jira" src="/star-docs/assets/images/bug-in-jira-4390c6d7dcdcff025aceab5ae31efe85.png" width="1028" height="485" class="img_ev3q"></p>
<ul>
<li>
<p>در پوشه‌ی مورد نظر، یک پوشه‌ی جدید به همان نام شناسه ایشوی جیرا ایجاد کنید.
در مثال زیر، شناسه‌ی ایشو برابر مقدار
<code>DATALM-101006</code>
است.
<img decoding="async" loading="lazy" alt="Issue code in jira" src="/star-docs/assets/images/issue-code-details-6251a101a9379617392f96d8e8930005.png" width="971" height="478" class="img_ev3q"></p>
</li>
<li>
<p>فایل‌های فشرده را از ایشو دانلود کنید و به پوشه‌ی مربوطه انتقال دهید.</p>
</li>
<li>
<p>چون فایل‌های لاگ حجیم هستند معمولا به صورت فشرده نگه‌داری و ارسال می‌شوند. برای بارگذاری شدن مناسب لاگ‌ها باید آن‌ها را از حالت فشرده خارج کنید.</p>
</li>
<li>
<p>بررسی کنید که سرویس ویندوزی
filebeat
در سرور
در حال اجرا باشد و در صورتی که این سرویس
stop
شده باشد فرایند انجام نمی‌شود و باید ابتدا آن را
start
کنید تا فایل‌ها بارگذاری شوند.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Filebeat service is running" src="/star-docs/assets/images/filebeat-is-running-9ba33604887410da16d79b696cc062b0.png" width="685" height="559" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="تحلیل-لاگها">تحلیل لاگ‌ها<a class="hash-link" aria-label="لینک مستقیم به تحلیل لاگ‌ها" title="لینک مستقیم به تحلیل لاگ‌ها" href="/star-docs/onboarding/checklists/debugging/backend/elk#تحلیل-لاگها">​</a></h2>
<p>برای تحلیل لاگ‌ها روش‌ها ی مختلفی در رابط کاربری کیبانا فراهم شده است.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ساختار-لاگ">ساختار لاگ<a class="hash-link" aria-label="لینک مستقیم به ساختار لاگ" title="لینک مستقیم به ساختار لاگ" href="/star-docs/onboarding/checklists/debugging/backend/elk#ساختار-لاگ">​</a></h3>
<p>یک فایل لاگ به صورت یک جیسون است که شامل کلید و مقادیری است که به تیم فنی امکان درک وقایع در سیستم عملیاتی را می‌دهد.</p>
<p>نمونه‌ی یک فایل لاگ به صورت زیر است.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_index&quot;: &quot;star-logs-000007&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_type&quot;: &quot;_doc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_id&quot;: &quot;RyLQ3pAB57zJKhoG64Mv&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_score&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;fields&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.version.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;7.17.9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.status.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;success&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;fields.Environment.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;qa-beta&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.AsyncTaskRunnerTook&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;destination_ip.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.74.76&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.Method&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;POST&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.SerTook&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ApiFullName.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;IUserManagementApi.GetSimpleUsers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.DestinationService&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;AM&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ApiFullName&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;IUserManagementApi.GetSimpleUsers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.hostname&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.fail&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.mac&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;9e:8f:37:0f:82:f2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.97.174&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.Method.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;POST&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip_chain&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105, 10.233.97.174&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.version&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;20.04.5 LTS (Focal Fossa)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.TotalNetTook&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;origin_ip.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip_port&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.97.174:58982&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;de3dbcf6-63dd-43d8-a695-4ff2a0f6b00c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;transaction_id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;765cecd3-b577-4588-b3f1-191ae1835ee5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;linux&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.id.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ef616235-a2de-404b-b423-179165ce2fc1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;input.type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;log&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.hostname&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.RespStatusCode&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log.flags&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;multiline&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;tags&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;beats_input_codec_plain_applied&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.process_name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;MSSE.LAPortal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.architecture&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;x86_64&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;destination_ip_port.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.74.76:58084&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;user_name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;2c031bd6-470e-4610-a8cb-3900d510c64d&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ef616235-a2de-404b-b423-179165ce2fc1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.containerized&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;distributed_transaction_id.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;753d8e16-304a-4f95-a8c5-c4b44e093a11&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;input.type.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;log&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;user_name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;2c031bd6-470e-4610-a8cb-3900d510c64d&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;tags.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;beats_input_codec_plain_applied&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;parent_proc&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;f66633c8-f815-40aa-b358-553723bb346a&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ConectionTook&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.service_name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;MSSE.LAPortal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ReqBytes&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      51</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.ip&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.74.76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;fe80::9c8f:37ff:fe0f:82f2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;filebeat&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log_type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;response&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;token_user_name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;2c031bd6-470e-4610-a8cb-3900d510c64d&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.kernel.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;5.4.0-177-generic&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log.flags.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;multiline&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ApiControllerName&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;IUserManagementApi&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;origin_ip_port.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105:0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;timestamp&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;2024-07-23T08:58:56.426Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.type.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;filebeat&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.ephemeral_id.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;9e73798a-6d23-4093-9ec6-7cc2bac3bf12&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.codename&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;focal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.Url&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;/api/UserManagementApi/GetSimpleUsers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.full_version&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;403.2.0.10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;@timestamp&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;2024-07-23T08:58:56.426Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.platform&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ubuntu&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log.file.path&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;/var/log/service_logs/laportal-statefulset-0_star/Performance/20240723.json&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.ephemeral_id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;9e73798a-6d23-4093-9ec6-7cc2bac3bf12&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log_type.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;response&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip_chain.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105, 10.233.97.174&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.Url.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;/api/UserManagementApi/GetSimpleUsers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.architecture.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;x86_64&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip_port.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.97.174:58982&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;distributed_transaction_id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;753d8e16-304a-4f95-a8c5-c4b44e093a11&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;token_user_name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;2c031bd6-470e-4610-a8cb-3900d510c64d&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.RespBytes&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      849</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.hostname.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ecs.version.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;1.12.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.ip.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.74.76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;fe80::9c8f:37ff:fe0f:82f2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;destination_ip&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.74.76&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.activity.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;StatelessCall&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Ubuntu&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.DeserTook&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ApiName&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;GetSimpleUsers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.version.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;20.04.5 LTS (Focal Fossa)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;fields.Environment&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;qa-beta&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.activity&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;StatelessCall&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.module_name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;mrpc&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip_chain_port&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105:0, 10.233.97.174:58982&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log.offset&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      5793482</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;transaction_id.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;765cecd3-b577-4588-b3f1-191ae1835ee5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;process_tag.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Client.StatelessCall.Response&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.full_version.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;403.2.0.10&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ecs.version&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;1.12.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ApiControllerName.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;IUserManagementApi&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.hostname.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;laportal-statefulset-0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;agent.version&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;7.17.9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.family&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;debian&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip_chain_port.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105:0, 10.233.97.174:58982&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.Command&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;StatelessApiCall&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.process_name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;MSSE.LAPortal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.success&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.DestinationService.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;AM&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.area.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.status&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;success&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.module_name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;mrpc&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;de3dbcf6-63dd-43d8-a695-4ff2a0f6b00c&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.kernel&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;5.4.0-177-generic&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;@version&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.name.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Ubuntu&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;process_tag&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Client.StatelessCall.Response&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.ApiName.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;GetSimpleUsers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;log.file.path.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;/var/log/service_logs/laportal-statefulset-0_star/Performance/20240723.json&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.codename.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;focal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;request_id.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;b884b4ab-8810-46d9-a99d-9075f68c279a&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.mac.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;9e:8f:37:0f:82:f2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;destination_ip_port&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.74.76:58084&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.Command.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;StatelessApiCall&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.service_name&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;MSSE.LAPortal&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.major_version&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;403&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.family.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;debian&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.major_version.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;403&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;source_ip.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.97.174&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.type.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;linux&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;host.os.platform.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ubuntu&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;parent_proc.keyword&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;f66633c8-f815-40aa-b358-553723bb346a&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.WaitingTook&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;origin_ip_port&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105:0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.response_time&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;details.area&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Client&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;request_id&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;b884b4ab-8810-46d9-a99d-9075f68c279a&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;origin_ip&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;10.233.75.105&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>در ادامه به هر جیسون مشابه مثال بالا یک لاگ گفته می‌شود و متناظر با یک سند در الستیک‌سرچ است.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="تحلیل-لاگ-با-discover">تحلیل لاگ با Discover<a class="hash-link" aria-label="لینک مستقیم به تحلیل لاگ با Discover" title="لینک مستقیم به تحلیل لاگ با Discover" href="/star-docs/onboarding/checklists/debugging/backend/elk#تحلیل-لاگ-با-discover">​</a></h3>
<p>محیط
Discover
کیبانا یک محیط برای مشاهده‌ی خام تمام لاگ‌های ثبت شده است. در این صفحه به سادگی می‌توانیم لاگ‌ها را فیلتر کنیم. براساس برخی ستون‌ها مرتب‌سازی کنیم و برخی از مقادیر را از محدوده‌ی دید خود حذف کنیم.</p>
<p>برای آشنایی با امکانات
Discover
<a href="https://www.youtube.com/watch?v=b4Edz_ybA_8" target="_blank" rel="noopener noreferrer">این ویدیو</a>
را بررسی کنید.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>نکته</div><div class="admonitionContent_BuS1"><p>این محیط مناسب رسم نمودارهای متنوع و با جزئیات نیست و فقط لاگ‌ها به صورت خام مشاهده می‌شود. برای نمودارهای پیچیده‌تر باید یک داشبورد بسازیم.</p></div></div>
<p>این محیط از
<a href="http://192.168.30.101:5600/app/discover" target="_blank" rel="noopener noreferrer">این آدرس</a>
قابل دسترس است.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="تغییر-محدودهی-زمانی">تغییر محدوده‌ی زمانی<a class="hash-link" aria-label="لینک مستقیم به تغییر محدوده‌ی زمانی" title="لینک مستقیم به تغییر محدوده‌ی زمانی" href="/star-docs/onboarding/checklists/debugging/backend/elk#تغییر-محدودهی-زمانی">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Kibana timestamp" src="/star-docs/assets/images/timestamp-fe1073760c2cb85a97d1d0d5a9445a40.png" width="1915" height="885" class="img_ev3q">
در این بخش امکان تعیین محدوده‌ی زمانی نمایش لاگ‌ها وجود دارد.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>نکته</div><div class="admonitionContent_BuS1"><p>در ابتدای تحلیل این مقدار تا حدی که مطمئن باشید شامل تمام لاگ‌های مورد نظر است بزرگ کنید.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="اضافه-کردن-ستونهای-داده">اضافه کردن ستون‌های داده<a class="hash-link" aria-label="لینک مستقیم به اضافه کردن ستون‌های داده" title="لینک مستقیم به اضافه کردن ستون‌های داده" href="/star-docs/onboarding/checklists/debugging/backend/elk#اضافه-کردن-ستونهای-داده">​</a></h4>
<p><img decoding="async" loading="lazy" alt="Kibana add columns" src="/star-docs/assets/images/columns-d502eb9e4871e32de66e890ba23a9551.png" width="1913" height="890" class="img_ev3q"></p>
<p>در این بخش ستون‌های معروف و پرتکرار در لاگ‌ها به همراه امکان جستجو و اضافه کردن ستون‌ها به جدول وجود دارد.</p>
<p>با انتخاب یک ستون (در بخش ستون‌های معروف یا جستجوی دقیق ستون) ستون خاص به جدول سمت راست اضافه م ی‌شود و می‌توانیم مقدارها را به صورت دقیق مشاهده کنیم.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="مشاهده-یا-عدم-مشاهدهی-یک-دادهی-خاص-در-ستونهای-مختلف">مشاهده یا عدم مشاهده‌ی یک داده‌ی خاص در ستون‌های مختلف<a class="hash-link" aria-label="لینک مستقیم به مشاهده یا عدم مشاهده‌ی یک داده‌ی خاص در ستون‌های مختلف" title="لینک مستقیم به مشاهده یا عدم مشاهده‌ی یک داده‌ی خاص در ستون‌های مختلف" href="/star-docs/onboarding/checklists/debugging/backend/elk#مشاهده-یا-عدم-مشاهدهی-یک-دادهی-خاص-در-ستونهای-مختلف">​</a></h4>
<p>با انتخاب هر یک از مقادیر در ستون‌های موجود در جدول، اگر روی علامت + کلیک شود این مقدار
فیلتر
می‌شود. یعنی فقط لاگ‌هایی که این مقدار را دارند نمایش داده می‌شوند.</p>
<p>در صورتی که روی علامت - کلیک شود، تمام لاگ‌هایی که این مقدار را دارند نشان داده نمی‌شوند. این ویژگی برای حذف لاگ‌های نامرتبط و تمرکز روی موارد مهم، مفید است.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="مشاهدهی-تجمع-زمانی-دادهها-و-تعداد-کل-دادههای-مطابق-با-فیلتر">مشاهده‌ی تجمع زمانی داده‌ها و تعداد کل داده‌های مطابق با فیلتر<a class="hash-link" aria-label="لینک مستقیم به مشاهده‌ی تجمع زمانی داده‌ها و تعداد کل داده‌های مطابق با فیلتر" title="لینک مستقیم به مشاهده‌ی تجمع زمانی داده‌ها و تعداد کل داده‌های مطابق با فیلتر" href="/star-docs/onboarding/checklists/debugging/backend/elk#مشاهدهی-تجمع-زمانی-دادهها-و-تعداد-کل-دادههای-مطابق-با-فیلتر">​</a></h4>
<p>در تمام لحظات تحلیل مطابق با فیلتر زمانی و فیلترهای ستون‌ها تعداد کل لاگ‌ها، فراوانی زمانی (صرفا از نظر تعداد) قابل مشاهده است.
همین موارد در برخی از تحلیل‌ها به ما کمک می‌کند و حائذ اهمیت است.</p>
<p><img decoding="async" loading="lazy" alt="Time line and total count" src="/star-docs/assets/images/timeline-9eeb3eba03b3acc3a0925a48d679bfb0.png" width="1918" height="839" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="تحلیلهای-تجمیعی-با-اسفتاده-از-dashboard">تحلیل‌های تجمیعی با اسفتاده از Dashboard<a class="hash-link" aria-label="لینک مستقیم به تحلیل‌های تجمیعی با اسفتاده از Dashboard" title="لینک مستقیم به تحلیل‌های تجمیعی با اسفتاده از Dashboard" href="/star-docs/onboarding/checklists/debugging/backend/elk#تحلیلهای-تجمیعی-با-اسفتاده-از-dashboard">​</a></h3>
<p>برای تحلیل‌های تجمیعی و مشاهده‌ی وضعیت تجمیعی لاگ‌ها لازم است یک
<strong>داشبورد</strong>
بسازیم و نمودارهای متفاوت را در آن تعریف کنیم تا امکان فهم کلی نسبت به لاگ‌های تجمیع‌شده وجود داشته باشد.</p>
<p>برای ادامه‌ی تحلیل لازم است مراحل زیر را طی کنیم.</p>
<ul>
<li>یک داشبورد با نام مشخص و با مفهوم متناسب با کدایشوی باگ ایجاد کنید که در آینده به سادگی تشخیص دهیم هر داشبورد برای چه هدفی ساخته شده است.
(پیشنهاد می‌شود که کد ایشو را در ابتد ای عنوان داشبورد قرار دهید.)</li>
<li>فیلتر مورد نیاز برای محدود‌سازی لاگ‌ها را در ابتدای صفحه ایجاد کنید.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>نکته</div><div class="admonitionContent_BuS1"><p>یکی از راه‌های فیلتر کردن لاگ استفاده از کلید
<code>log.file.path</code>
کنید.</p><p>با توجه به روش
tokenizer
الستیک در صورتی که فقط یک بخش را فیلتر کنید هر مسیری که شامل آن بخش باشد فیلتر می‌شود و قابل مشاهده خواهد بود.</p></div></div>
<ul>
<li>سپس برای پاسخ به هر یک از سوالات و احتمالات مطرح شده نیاز است یک نمودار خاص برای این تحلیل استفاده شود.
در کیبانا هر نمودار یک
Lens
نامیده می‌شود.</li>
</ul>
<p>در
<a href="https://www.youtube.com/watch?v=DzGwmr8nKPg" target="_blank" rel="noopener noreferrer">این ویدیو</a>
توضیحات کلی در مورد ساخت داشبورد و نمودار داده شده است.</p>
<p>انواع روش‌های تجمیع‌سازی به تفصیل و با جزئيات مورد نیاز در
<a href="https://www.youtube.com/watch?v=j-eCKDhj-Os" target="_blank" rel="noopener noreferrer">این ویدیو</a>
توضیح داده شده است.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>نکته</div><div class="admonitionContent_BuS1"><p>استفاده از
percentile
در تحلیل‌ها بسیار مفید است و کمک می‌کند نسبت به داده‌ها دید خوبی بگیریم و فقط به حداقل و حداکثر داده‌ها محدود نمی‌شویم و در عمل بهتر نسبت به توزیع‌داده شهود پیدا می‌کنیم.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="مشخصات-و-کلیدهای-معروف-در-لاگها">مشخصات و کلیدهای معروف در لاگ‌ها<a class="hash-link" aria-label="لینک مستقیم به مشخصات و کلیدهای معروف در لاگ‌ها" title="لینک مستقیم به مشخصات و کلیدهای معروف در لاگ‌ها" href="/star-docs/onboarding/checklists/debugging/backend/elk#مشخصات-و-کلیدهای-معروف-در-لاگها">​</a></h2>
<table><tr><td>نام کلید</td><td>شرح</td><td>مثال‌های معروف</td></tr><tr><td><p><code>details.area</code></p></td><td><p>هر لاگ مربوط به یک بخش بزرگ از کد است. برای تفکیک لاگ‌های مرتبط با یک منطق و فعالیت مشخص از این کلید استفاده می‌شود و آن را فیلتر می‌ک نیم.</p></td><td><p><code>Client</code>
برای مواقعی است که سرویس مورد نظر کلاینت است و به دیگر سرویس‌ها درخواست داده است.</p><p><code>Server</code>
برای مواقعی است که سرویس مورد نظر، سرور بوده به کاربران پاسخ داده است.</p></td></tr><tr><td><p><code>details.activity</code></p></td><td><p>منطق و کاری که انجام شده است و منجر به ایجاد شدن این لاگ شده است.</p></td><td><p>هر مقدار
<code>details.area</code>
دارای مقادیر مشخصی است که باید با استفاده از کد منطق دقیق‌ را متوجه شویم.</p></td></tr><tr><td><p><code>log_type</code></p></td><td><p>به ازای هر عملیات در ستاره یک لاگ شروع و پایان وجود دارد که در این فیلد مشخص می‌شود.</p></td><td><p>مقدار‌های این فیلد
<code>response</code>
(لاگ انتهای عملیات)
یا
<code>request</code>
(لاگ ابتدای عملیات)
است.</p></td></tr><tr><td><code>process_tag</code></td><td><p>این کلید ترکیب مقدارهای
<code>details.area</code>,
<code>details.activity</code>,
<code>log_type</code>
است</p></td><td><p><code>dataflow.short_time_service_execute.Request</code></p></td></tr><tr><td><p><code>details.response_time</code></p></td><td><p>این کلید فقط در لاگ‌ها با
<code>log_type = response</code>
وجود دارد و فاصله‌ی زمانی بین
<code>request</code>
و
<code>response</code>
را با واحد میلی‌ثانیه نشان می‌دهد.</p></td><td><p>مقدار زیاد و بیش از حد انتظار در عملیات‌ها نشان‌دهنده‌ی کندی در سیستم است.</p></td></tr><tr><td><p><code>transaction_id</code></p></td><td><p>یک شناسه‌ی که برای درخواست‌ها در محدوده‌ی سرویس یکتاست</p><p>می‌توان از طریق  فیلتر کردن روی این مقدار تمام لاگ‌های مرتبط با یک عملیات مشخص در یک سرویس را مشاهده کرد.</p></td><td><p><code>3eaeb0a2-b00d-4c95-9eb8-59fea3243806</code></p></td></tr><tr><td><code>distributed_transaction_id</code></td><td><p>این مقدار شناسه‌ی یکتا بین چند سرویس است و در صورتی که یک سرویس به سرویس‌های متعدد درخواست بدهد این شناسه بین تمام لاگ‌های ثبت شده توسط همه‌ی سرویس‌ها یکتاست.</p><p>با فیلتر کردن این مقدار امکان دسترسی به تمام لاگ‌ها وجود دارد.</p></td><td><p><code>13fb7e67-d595-47c6-b1ce-2be8e2912bcf</code></p></td></tr><tr><td><code>log.file.path</code></td><td><p>در زمان بارگذاری لاگ‌ها، هر فایل یک
path
مشخص دارد و آدرس اولیه‌ی آن برای پیگیری بهتر لاگ‌ها و فیلتر کردن برای تحلیل استفاده می‌شود.</p></td><td><p><code>D:\Program Files\Mohaymen\StarLogs\26\AM\MOHAYMEN_STAR-SERVICES$\Performance\20240723.json</code></p></td></tr><tr><td><code>details.service_name</code></td><td><p>نام سرویسی که لاگ را ثبت کرده است.</p></td><td><p><code>MSSE.AM</code>,
<code>MSSE.LADW</code>,
<code>MSSE.DM</code></p></td></tr><tr><td><code>details.service_name</code></td><td><p>نام سرویسی که لاگ را ثبت کرده است.</p></td><td><p><code>MSSE.AM</code>,
<code>MSSE.LADW</code>,
<code>MSSE.DM</code></p></td></tr><tr><td><code>details.Url</code></td><td><p>آدرس
url
که کاربر درخواست داده است.</p></td><td><p>این لاگ در
<code>details.area = client, server</code>
وجود دارد و هر مقداری می‌تواند باشد.</p></td></tr><tr><td><code>details.status</code></td><td><p>وضعیت موفق یا ناموفق بودن این درخواست را نشان می‌دهد.</p><p>در صور تی که در این بخش کد استثنایی پرتاب شود به عنوان خطا تلقی می‌شود.</p></td><td><p><code>success</code>,<code>fail</code></p></td></tr><tr><td><code>details.RespStatusCode</code></td><td><p>در درخواست‌های
HTTP
کد پاسخ دریافتی از سرور را نشان می‌دهد.</p></td><td><p><code>200</code>,<code>202</code>,<code>400</code>,<code>500</code></p><div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>نکته</div><div class="admonitionContent_BuS1"><p>در صورتی که درخواست خیلی طولانی باشد هر یک دقیقه یک درخواست با کد 202 ایجاد می‌شود و بین کلاینت و سرور جابه‌جا می‌شود.</p></div></div></td></tr></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="صفحات مستندات"><a class="pagination-nav__link pagination-nav__link--prev" href="/star-docs/onboarding/checklists/debugging/backend/dot-trace"><div class="pagination-nav__sublabel">قبلی</div><div class="pagination-nav__label">دیباگ مسائل پرفورمنسی و کندی با استفاده از DotTrace</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/star-docs/onboarding/checklists/debugging/backend/simple-backend-bugs"><div class="pagination-nav__sublabel">بعدی</div><div class="pagination-nav__label"> باگ‌های ساده‌ی سمت سرور</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#تشخیص-سرویسهای-مرتبط">تشخیص سرویس‌های مرتبط</a></li><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#بارگذاری-لاگها">بارگذاری لاگ‌ها</a></li><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#تحلیل-لاگها">تحلیل لاگ‌ها</a><ul><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#ساختار-لاگ">ساختار لاگ</a></li><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#تحلیل-لاگ-با-discover">تحلیل لاگ با Discover</a></li><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#تحلیلهای-تجمیعی-با-اسفتاده-از-dashboard">تحلیل‌های تجمیعی با اسفتاده از Dashboard</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/star-docs/onboarding/checklists/debugging/backend/elk#مشخصات-و-کلیدهای-معروف-در-لاگها">مشخصات و کلیدهای معروف در لاگ‌ها</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">مستندات</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/star-docs/team/about-team">درباره‌ی واحد</a></li><li class="footer__item"><a class="footer__link-item" href="/star-docs/onboarding/intro">شروع به کار</a></li><li class="footer__item"><a class="footer__link-item" href="/star-docs/documents/overview">مستندات</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Mohaymen ICT Group.</div></div></div></footer></div>
</body>
</html>