# دیباگ مسائل پرفورمنسی و کندی با استفاده از DotTrace

در حالت‌هایی که سرویس حافظه‌ی زیاد استفاده می‌کند و یا کندی در بخش‌های خاصی وجود دارد، این روش دیباگ می‌تواند مفید باشد. در این روش‌ها لازم است در محیط توسعه و در سیستم‌های داخلی همان مسئله تولید شود تا بتوانیم فرایند دیباگ را ادامه دهیم. 

## نصب ابزار
برای شروع، ابتدا باید ابزار DotTrace را نصب کنید. این ابزار از وب‌سایت رسمی 
[JetBrains](https://www.jetbrains.com/profiler/)
قابل دانلود و نصب است.

## آشنایی با قابلیت‌های کلی
برای آشنایی با قابلیت‌های کلی ابزار DotTrace، می‌توانید ویدیوی زیر را مشاهده کنید:
[آشنایی با قابلیت‌های کلی DotTrace](https://www.youtube.com/watch?v=hgXadZgddO0)

در این ابزار، حالت‌های مختلف دیباگ وجود دارد که در لینک زیر به تفصیل توضیح داده شده است:
[حالت‌های مختلف دیباگ در DotTrace](https://www.jetbrains.com/help/profiler/Basic_Concepts.html)
چون این سند خیلی دقیق و جزئي است توصیه می‌کنیم حتما آن را مطالعه کنید تا نسبت به روش‌های مختلف و مزایا و معایب هر یک به صورت دقیق مطالعه فرمایید.

### آشنایی با Sampling
Sampling یکی از حالت‌های دیباگ است که به شما کمک می‌کند تا بدون تاثیر زیاد بر عملکرد برنامه، بخش‌های کند را شناسایی کنید.

### آشنایی با Tracing
Tracing حالت دیگری از دیباگ است که دقت بیشتری دارد و اطلاعات بیشتری در مورد عملکرد دقیق هر بخش از برنامه فراهم می‌کند.

### آشنایی با Timeline profiling
Timeline profiling روشی است که به شما کمک می‌کند تا روند اجرای برنامه را در بخش‌های مختلف مشاهده کنید. این روش برای شناسایی وقفه‌های GC، مشکلات Deadlock و دیگر کندی‌های برنامه مفید است.
برای آشنایی بیشتر با Timeline profiling می‌توانید ویدیوی زیر را مشاهده کنید:
[آشنایی با Timeline profiling](https://www.youtube.com/watch?v=lo1ACzoS5WU)

:::tip
به صورت کلی در ابتدای کار برای فهم کلی کندی و چالش‌های پرفورمنسی از روش
sampling
استفاده می‌کنیم.
:::

## یک مثال و نمونه از کار با این ابزار
برای مشاهده یک مثال عملی از استفاده از ابزار DotTrace، ویدیوی زیر را مشاهده کنید:
[مثال عملی استفاده از DotTrace](https://www.youtube.com/watch?v=DxOWaRkFSMM)

## روش استفاده در سرویس‌های ستاره
برای استفاده از DotTrace در سرویس‌های ستاره، می‌توانید مراحل زیر را دنبال کنید:
1. ابزار را نصب و تنظیم کنید.
2. برنامه‌ای که نیاز به پروفایلینگ دارد را انتخاب کنید.
3. یکی از حالت‌های دیباگ (Sampling، Tracing یا Timeline profiling) را انتخاب کنید.
4. نتایج را تحلیل کرده و نقاط کندی را شناسایی کنید.
5. تغییرات لازم را اعمال کرده و مجدداً پروفایلینگ را اجرا کنید تا بهبود عملکرد را تایید کنید.
